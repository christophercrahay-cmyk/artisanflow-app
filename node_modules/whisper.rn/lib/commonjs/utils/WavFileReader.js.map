{"version":3,"names":["_common","require","WavFileReader","header","audioData","constructor","fs","filePath","initialize","exists","Error","fileContent","readFile","fileData","base64ToUint8Array","parseWavHeader","slice","dataSize","console","log","duration","toFixed","sampleRate","channels","error","data","view","DataView","buffer","byteOffset","byteLength","riffHeader","String","fromCharCode","waveHeader","fmtHeader","audioFormat","getUint16","getUint32","bitsPerSample","dataOffset","length","chunkId","chunkSize","getAudioSlice","startByte","lengthBytes","start","Math","max","end","min","getAudioData","getHeader","getTotalDataSize","_this$header","byteToTime","bytePosition","bytesPerSecond","timeToByte","timeSeconds","floor","getStatistics","totalDataSize","isInitialized","exports"],"sourceRoot":"../../../src","sources":["utils/WavFileReader.ts"],"mappings":"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"}