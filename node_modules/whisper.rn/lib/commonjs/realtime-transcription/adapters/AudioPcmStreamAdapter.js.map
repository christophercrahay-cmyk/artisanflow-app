{"version":3,"names":["_reactNativeAudioPcmStream","_interopRequireDefault","require","_common","obj","__esModule","default","AudioPcmStreamAdapter","isInitialized","recording","config","initialize","release","LiveAudioStream","init","sampleRate","channels","bitsPerSample","audioSource","bufferSize","wavFile","on","handleAudioData","bind","error","_this$errorCallback","errorMessage","Error","message","errorCallback","call","start","_this$statusCallback","statusCallback","_this$errorCallback2","stop","_this$statusCallback2","_this$errorCallback3","isRecording","onData","callback","dataCallback","onError","onStatusChange","undefined","console","warn","base64Data","_this$config","_this$config2","audioData","base64ToUint8Array","streamData","data","timestamp","Date","now","_this$errorCallback4","exports"],"sourceRoot":"../../../../src","sources":["realtime-transcription/adapters/AudioPcmStreamAdapter.ts"],"mappings":"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"}