{"version":3,"names":["LiveAudioStream","base64ToUint8Array","AudioPcmStreamAdapter","isInitialized","recording","config","initialize","release","init","sampleRate","channels","bitsPerSample","audioSource","bufferSize","wavFile","on","handleAudioData","bind","error","_this$errorCallback","errorMessage","Error","message","errorCallback","call","start","_this$statusCallback","statusCallback","_this$errorCallback2","stop","_this$statusCallback2","_this$errorCallback3","isRecording","onData","callback","dataCallback","onError","onStatusChange","undefined","console","warn","base64Data","_this$config","_this$config2","audioData","streamData","data","timestamp","Date","now","_this$errorCallback4"],"sourceRoot":"../../../../src","sources":["realtime-transcription/adapters/AudioPcmStreamAdapter.ts"],"mappings":"AAAA;AACA;AACA,OAAOA,eAAe,MAAM,uCAAuC;AAEnE,SAASC,kBAAkB,QAAQ,oBAAoB;AAEvD,OAAO,MAAMC,qBAAqB,CAAiC;EACzDC,aAAa,GAAG,KAAK;EAErBC,SAAS,GAAG,KAAK;EAEjBC,MAAM,GAA6B,IAAI;EAQ/C,MAAMC,UAAUA,CAACD,MAAyB,EAAiB;IACzD,IAAI,IAAI,CAACF,aAAa,EAAE;MACtB,MAAM,IAAI,CAACI,OAAO,EAAE;IACtB;IAEA,IAAI;MACF,IAAI,CAACF,MAAM,GAAGA,MAAM,IAAI,IAAI;;MAE5B;MACAL,eAAe,CAACQ,IAAI,CAAC;QACnBC,UAAU,EAAEJ,MAAM,CAACI,UAAU,IAAI,KAAK;QACtCC,QAAQ,EAAEL,MAAM,CAACK,QAAQ,IAAI,CAAC;QAC9BC,aAAa,EAAEN,MAAM,CAACM,aAAa,IAAI,EAAE;QACzCC,WAAW,EAAEP,MAAM,CAACO,WAAW,IAAI,CAAC;QACpCC,UAAU,EAAER,MAAM,CAACQ,UAAU,IAAI,EAAE,GAAG,IAAI;QAC1CC,OAAO,EAAE,EAAE,CAAE;MACf,CAAC,CAAC;;MAEF;MACAd,eAAe,CAACe,EAAE,CAAC,MAAM,EAAE,IAAI,CAACC,eAAe,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;MAE3D,IAAI,CAACd,aAAa,GAAG,IAAI;IAC3B,CAAC,CAAC,OAAOe,KAAK,EAAE;MAAA,IAAAC,mBAAA;MACd,MAAMC,YAAY,GAAGF,KAAK,YAAYG,KAAK,GAAGH,KAAK,CAACI,OAAO,GAAG,8BAA8B;MAC5F,CAAAH,mBAAA,OAAI,CAACI,aAAa,cAAAJ,mBAAA,uBAAlBA,mBAAA,CAAAK,IAAA,KAAI,EAAiBJ,YAAY,CAAC;MAClC,MAAM,IAAIC,KAAK,CAAE,yCAAwCD,YAAa,EAAC,CAAC;IAC1E;EACF;EAEA,MAAMK,KAAKA,CAAA,EAAkB;IAC3B,IAAI,CAAC,IAAI,CAACtB,aAAa,EAAE;MACvB,MAAM,IAAIkB,KAAK,CAAC,6BAA6B,CAAC;IAChD;IAEA,IAAI,IAAI,CAACjB,SAAS,EAAE;MAClB;IACF;IAEA,IAAI;MAAA,IAAAsB,oBAAA;MACF1B,eAAe,CAACyB,KAAK,EAAE;MACvB,IAAI,CAACrB,SAAS,GAAG,IAAI;MACrB,CAAAsB,oBAAA,OAAI,CAACC,cAAc,cAAAD,oBAAA,uBAAnBA,oBAAA,CAAAF,IAAA,KAAI,EAAkB,IAAI,CAAC;IAC7B,CAAC,CAAC,OAAON,KAAK,EAAE;MAAA,IAAAU,oBAAA;MACd,MAAMR,YAAY,GAAGF,KAAK,YAAYG,KAAK,GAAGH,KAAK,CAACI,OAAO,GAAG,qBAAqB;MACnF,CAAAM,oBAAA,OAAI,CAACL,aAAa,cAAAK,oBAAA,uBAAlBA,oBAAA,CAAAJ,IAAA,KAAI,EAAiBJ,YAAY,CAAC;MAClC,MAAM,IAAIC,KAAK,CAAE,8BAA6BD,YAAa,EAAC,CAAC;IAC/D;EACF;EAEA,MAAMS,IAAIA,CAAA,EAAkB;IAC1B,IAAI,CAAC,IAAI,CAACzB,SAAS,EAAE;MACnB;IACF;IAEA,IAAI;MAAA,IAAA0B,qBAAA;MACF,MAAM9B,eAAe,CAAC6B,IAAI,EAAE;MAC5B,IAAI,CAACzB,SAAS,GAAG,KAAK;MACtB,CAAA0B,qBAAA,OAAI,CAACH,cAAc,cAAAG,qBAAA,uBAAnBA,qBAAA,CAAAN,IAAA,KAAI,EAAkB,KAAK,CAAC;IAC9B,CAAC,CAAC,OAAON,KAAK,EAAE;MAAA,IAAAa,oBAAA;MACd,MAAMX,YAAY,GAAGF,KAAK,YAAYG,KAAK,GAAGH,KAAK,CAACI,OAAO,GAAG,oBAAoB;MAClF,CAAAS,oBAAA,OAAI,CAACR,aAAa,cAAAQ,oBAAA,uBAAlBA,oBAAA,CAAAP,IAAA,KAAI,EAAiBJ,YAAY,CAAC;MAClC,MAAM,IAAIC,KAAK,CAAE,6BAA4BD,YAAa,EAAC,CAAC;IAC9D;EACF;EAEAY,WAAWA,CAAA,EAAY;IACrB,OAAO,IAAI,CAAC5B,SAAS;EACvB;EAEA6B,MAAMA,CAACC,QAAyC,EAAQ;IACtD,IAAI,CAACC,YAAY,GAAGD,QAAQ;EAC9B;EAEAE,OAAOA,CAACF,QAAiC,EAAQ;IAC/C,IAAI,CAACX,aAAa,GAAGW,QAAQ;EAC/B;EAEAG,cAAcA,CAACH,QAAwC,EAAQ;IAC7D,IAAI,CAACP,cAAc,GAAGO,QAAQ;EAChC;EAEA,MAAM3B,OAAOA,CAAA,EAAkB;IAC7B,IAAI,IAAI,CAACH,SAAS,EAAE;MAClB,MAAM,IAAI,CAACyB,IAAI,EAAE;IACnB;IAEA,IAAI;MACF;MACA;MACA,IAAI,CAAC1B,aAAa,GAAG,KAAK;MAC1B,IAAI,CAACE,MAAM,GAAG,IAAI;MAClB,IAAI,CAAC8B,YAAY,GAAGG,SAAS;MAC7B,IAAI,CAACf,aAAa,GAAGe,SAAS;MAC9B,IAAI,CAACX,cAAc,GAAGW,SAAS;IACjC,CAAC,CAAC,OAAOpB,KAAK,EAAE;MACdqB,OAAO,CAACC,IAAI,CAAC,uCAAuC,EAAEtB,KAAK,CAAC;IAC9D;EACF;;EAEA;AACF;AACA;EACUF,eAAeA,CAACyB,UAAkB,EAAQ;IAChD,IAAI,CAAC,IAAI,CAACN,YAAY,EAAE;MACtB;IACF;IAEA,IAAI;MAAA,IAAAO,YAAA,EAAAC,aAAA;MACF,MAAMC,SAAS,GAAG3C,kBAAkB,CAACwC,UAAU,CAAC;MAEhD,MAAMI,UAA2B,GAAG;QAClCC,IAAI,EAAEF,SAAS;QACfnC,UAAU,EAAE,EAAAiC,YAAA,OAAI,CAACrC,MAAM,cAAAqC,YAAA,uBAAXA,YAAA,CAAajC,UAAU,KAAI,KAAK;QAC5CC,QAAQ,EAAE,EAAAiC,aAAA,OAAI,CAACtC,MAAM,cAAAsC,aAAA,uBAAXA,aAAA,CAAajC,QAAQ,KAAI,CAAC;QACpCqC,SAAS,EAAEC,IAAI,CAACC,GAAG;MACrB,CAAC;MAED,IAAI,CAACd,YAAY,CAACU,UAAU,CAAC;IAC/B,CAAC,CAAC,OAAO3B,KAAK,EAAE;MAAA,IAAAgC,oBAAA;MACd,MAAM9B,YAAY,GAAGF,KAAK,YAAYG,KAAK,GAAGH,KAAK,CAACI,OAAO,GAAG,wBAAwB;MACtF,CAAA4B,oBAAA,OAAI,CAAC3B,aAAa,cAAA2B,oBAAA,uBAAlBA,oBAAA,CAAA1B,IAAA,KAAI,EAAiBJ,YAAY,CAAC;IACpC;EACF;AACF"}